
## 创建进程的顺序？

0号进程idle作用是：唯一一个没有父进程的进程，它会不断判断是否有进程可调度

1号init进程：所有进程的祖先，不断fork形成进程树

# 介绍一下fork：

以do_fork的参数区分创建的是进程还是线程

    分配新进程的PCB，并设置PCB相关成员，包括新内核栈地址（每个进程都有自己的用户栈和内核栈，保存在TSS中），新PID，父进程PCB地址等等。
    复制/共享当前进程的所有内存空间到子进程里。
    复制当前线程的上下文状态至子进程中。
    将子进程PCB分别插入至普通双向链表与哈希表中，设置该子进程为可执行，并最终返回该子进程的PID。


# 介绍一下exit：

进程结束时调用exit()，完成进程资源回收。

    将调用参数作为进程的“结果”: 即子进程的退出状态
    关闭所有打开的文件等占用资源。
    释放内存
    释放大部分进程相关的内核数据结构
    检查父进程是否存活
        如果存活，则保留退出状态，直到父进程使用。同时当前进程进入僵尸(zombie)状态。
        如果没有，它将释放所有的数据结构，进程结束。
    清理所有等待的僵尸进程，进程终止是最终的垃圾收集（资源回收）。